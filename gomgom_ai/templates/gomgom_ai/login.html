<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>로그인 페이지</title>
</head>
<body>
<h1>gomgom-ai 로그인</h1>
<button onclick="login()">로그인하기</button>

<script>
  async function login() {
    try {
      // justsaying 서버에 로그인 요청을 보내는 부분
      const response = await fetch('https://justsaying.co.kr/api/kakao/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          // 여기에 로그인 정보 보내야 해! (지금은 예시로)
          kakaoAccessToken: '96ed9105639fb627fb2c710f39e6516f'
        })
      });

      if (!response.ok) {
        throw new Error('로그인 실패');
      }

      const data = await response.json();
      console.log('로그인 성공:', data);

      // 받은 accessToken을 localStorage에 저장
      localStorage.setItem('accessToken', data.accessToken);

      alert('로그인 성공! gomgom-ai에서 사용할 수 있어요!');
    } catch (error) {
      console.error('로그인 에러:', error);
      alert('로그인 실패했어요 ㅠㅠ');
    }
  }
</script>
</body>
</html>
